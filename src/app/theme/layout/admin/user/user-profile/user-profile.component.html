<div class=" row justify-content-center">
    <div class="col-sm-12">
        <div class="card">
            <div class="card-header text-center">
                <h5>User Profile</h5>
            </div>
            <div class="card-body">
                <form [formGroup]="userProfileForm" (ngSubmit)="onSubmit()">
                    <div class="row justify-content-center">
                        <div class="col-md-12 text-center">
                            <!-- Profile Image Section -->
                            <div class="profile-image-section text-center mb-4">
                                <div class="profile-image-container" *ngIf="isEdit">
                                    <img [src]="photoUrl" alt="Profile Image" class="profile-image"
                                        *ngIf="profileHave" />
                                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRLMI5YxZE03Vnj-s-sth2_JxlPd30Zy7yEGg&s"
                                        alt="Profile Image" class="profile-image" *ngIf="!profileHave"/>

                                    <div class="image-overlay">
                                        <label class="upload-label">
                                            <input type="file" (change)="onFileSelected($event)" name="userPhoto" [ngClass]=" {'border-danger' : userProfileForm.invalid &&  userFormControl?.['userPhoto']?.errors?.['required'] }"/>
                                            <i class="fa fa-camera"></i>  
                                        </label>
                                    </div>
                                </div>
                                <div *ngIf="isEdit">
                                    <small class="text-danger" *ngIf="userProfileForm.invalid && userFormControl?.['userPhoto']?.errors?.['required']" >
                                        *User Profile is required
                                    </small>
                                </div>
                                <div class="profile-image-container" *ngIf="!isEdit">
                                    <img [src]="photoUrl" class="profile-image" >
                                </div>
                            </div>
                        </div>

                        <div class="container justify-content-center" *ngIf="isEdit">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="form-label fw-bold h5">First Name : </label>
                                    <input type="text" class="form-control" autocomplete="off"
                                        formControlName="firstName" placeholder="First Name"
                                        [ngClass]=" {'border-danger' : userProfileForm.invalid && userFormControl?.['firstName']?.errors?.['required'] }"
                                    />
                                    <div>
                                        <small class="text-danger" *ngIf="userProfileForm.invalid && userFormControl?.['firstName']?.errors?.['required'] ">
                                            *First Name is required
                                        </small>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="form-label fw-bold h5">Last Name : </label>
                                    <input type="text" class="form-control" autocomplete="off"
                                        formControlName="lastName" placeholder="Last Name"
                                        [ngClass]=" {'border-danger' : userProfileForm.invalid && userFormControl?.['lastName']?.errors?.['required'] }"
                                    />
                                    <div>
                                        <small class="text-danger" *ngIf="userProfileForm.invalid && userFormControl?.['lastName']?.errors?.['required'] ">
                                            *Last Name is required
                                        </small>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="form-label fw-bold h5">Email Address : </label>
                                    <input type="email" class="form-control" autocomplete="off"
                                        formControlName="email" placeholder="Email"
                                        [ngClass]=" {'border-danger' : userProfileForm.invalid && userFormControl?.['email']?.errors?.['required'] }"
                                    />
                                    <div>
                                        <small class="text-danger" *ngIf="userProfileForm.invalid && userFormControl?.['email']?.errors?.['required'] ">
                                            *Email is required
                                        </small>
                                        <small class="text-danger" *ngIf="userProfileForm.invalid && userFormControl?.['email']?.errors?.['email'] ">
                                            *Please provide a valid email
                                        </small>
                                    </div>

                                </div>
                            </div>
                            
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="form-label fw-bold h5">Phone Number : </label>
                                    <input type="number" class="form-control" autocomplete="off"
                                        formControlName="phoneNo" placeholder="Phone Number"
                                        [ngClass]=" {'border-danger' : userProfileForm.invalid && userFormControl?.['phoneNo']?.errors?.['required'] }"
                                    />
                                    <div>
                                        <small class="text-danger" *ngIf="userProfileForm.invalid && userFormControl?.['phoneNo']?.errors?.['required'] ">
                                            *Phone Number is required
                                        </small>
                                        <small class="text-danger" *ngIf="userProfileForm.invalid && userFormControl?.['phoneNo']?.errors?.['maxlength'] ">
                                            *Phone Number Should not be a more than 10 length
                                        </small>
                                    </div>

                                </div>
                            </div>

                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="form-label fw-bold h5">Date of Birth : </label>
                                    <input type="date" class="form-control" autocomplete="off"
                                        formControlName="dob" placeholder="Date Of Birth"
                                        [ngClass]=" {'border-danger' : userProfileForm.invalid && userFormControl?.['dob']?.errors?.['required'] }"
                                    />
                                    <div>
                                        <small class="text-danger" *ngIf="userProfileForm.invalid && userFormControl?.['dob']?.errors?.['required'] ">
                                            *Date of Birth is required
                                        </small>
                                    </div>
                                </div>
                            </div>


                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="form-label fw-bold h5">Address : </label>
                                    <input type="text" class="form-control" autocomplete="off"
                                        formControlName="address" placeholder="Address"
                                        [ngClass]=" {'border-danger' : userProfileForm.invalid && userFormControl?.['address']?.errors?.['required'] }"
                                    />
                                    <div>
                                        <small class="text-danger" *ngIf="userProfileForm.invalid && userFormControl?.['address']?.errors?.['required'] ">
                                            *Address is required
                                        </small>
                                    </div>

                                </div>
                            </div>


                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="form-label fw-bold h5">Select Language</label>
                                </div>

                            </div>
                        </div>
                        
                        <div class="container d-flex justify-content-center" *ngIf="!isEdit"> 
                            <div class="row px-auto my-2 border border-dark border-1">
                                <div class="form-group d-flex col-6">
                                    <label class="fw-bold h5">First Name :</label>
                                    <p class="mx-2 h6 my-1">{{userProfileData.firstName}}</p>
                                </div>
                                <div class="form-group d-flex col-6">
                                    <label class="fw-bold h5">Last Name :</label>
                                    <p class="mx-2 h6 my-1">{{userProfileData.lastName}}</p>
                                </div>
                                <div class="form-group d-flex col-6">
                                    <label class="fw-bold h5">Email :</label>
                                    <p class="mx-2 h6 my-1">{{userProfileData.email}}</p>
                                </div>
                            
                                <div class="form-group d-flex col-6">
                                    <label class="fw-bold h5">Phone Number:</label>
                                    <p class="mx-2 h6 my-1">{{userProfileData.phoneNo}}</p>
                                </div>

                                <div class="form-group d-flex col-6">
                                    <label class="fw-bold h5">Date of Birth:</label>
                                    <p class="mx-2 h6 my-1">{{userProfileData.dob }}</p>
                                </div>

                                <div class="form-group d-flex col-6">
                                    <label class="fw-bold h5">Address :</label>
                                    <p class="mx-2 h6 my-1">{{userProfileData.address}}</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12 text-center">
                            <button type="button" class="btn btn-info" *ngIf="!isEdit" (click)="onEditProfile()">
                                Edit
                            </button>
                            <button type="submit" class="btn btn-success" *ngIf="isEdit">
                                Update
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<app-language-list>
    
</app-language-list>